<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Leave Profile</title>
  <link href="public/bootstrap-5.2.3-dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="public/fontawesome-free-6.2.1-web/css/all.css" rel="stylesheet" />
  <link rel="stylesheet" href="public/css/home.css">
  <style>
    body {
        background-color: #e9ecef;
    }

    .card-container {
        display: flex;
        flex-wrap: wrap;
        gap: 20px;
        justify-content: center;
        padding-top: 20px;
    }

    .card-custom {
        border-radius: 10px;
        box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s;
    }

    .card-custom:hover {
        transform: scale(1.02);
    }

    .card-title-custom {
        font-size: 18px;
        font-weight: bold;
        color: #4b4c4d;
    }

    .card-body p {
        font-size: 14px;
        margin: 5px 0;
    }

    .card-footer-custom {
        background-color: #f9f9f9;
        padding: 10px;
        border-top: 1px solid #ddd;
    }

    .edit-input {
        border: none;
        background: #f0f0f0;
        border-radius: 5px;
        padding: 5px;
        width: 100%;
    }
  </style>
</head>
<body>
  <header>
    <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
      <a href="#" class="navbar-brand"><i class="fa fa-cube"></i> สวัสดีคุณ <%= user %></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <div class="navbar-nav ml-auto">
          <a href="/home" class="nav-item nav-link"><i class="fa fa-home"></i> หน้าหลัก</a>
          <a href="/leave-request" class="nav-item nav-link"><i class="fa fa-file-alt"></i> ยื่นคำขอลา</a>
          <a href="/leave-history" class="nav-item nav-link"><i class="fa fa-history"></i> ประวัติการลา</a>
          <a href="/leave-approvals" class="nav-item nav-link"><i class="fa fa-check-circle"></i> การอนุมัติหรือปฏิเสธคำขอ</a>
          <a href="/leave-balance" class="nav-item nav-link"><i class="fa fa-calculator"></i> คำนวณวันลาคงเหลือ</a>
          <a href="/users" class="nav-item nav-link"><i class="fa fa-users"></i> เจ้าหน้าที่ทั้งหมด</a>
          <a href="#" class="nav-item nav-link"><i class="fa fa-envelope"></i> ข้อความ</a>
  
          <!-- Dropdown Menu for Logout -->
          <div class="nav-item dropdown">
          <a href="#" class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fa fa-sign-out"></i> ออกจากระบบ
          </a>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
              <li><a class="dropdown-item" href="/leave-profile"><i class="fa fa-user"></i> โปรไฟล์ของฉัน</a></li>
              <li><a class="dropdown-item" href="/settings"><i class="fa fa-cog"></i> ตั้งค่า</a></li>
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item" href="/logout"><i class="fa fa-sign-out"></i> ออกจากระบบ</a></li>
          </ul>
          </div>
      </div>
      </div>
    </nav>
  </header>

  <main role="main">
    <div class="container mt-5 pt-5">
      <h2 class="form-title mb-4">โปรไฟล์ของฉัน</h2>
      <div class="card-container">
        <% leaveprofile.forEach(request => { %>
          <div class="card card-custom" style="width: 18rem;">
            <div class="card-body">
              <h5 class="card-title card-title-custom"><input type="text" class="edit-input" value="<%= request.firstname %> <%= request.lastname %>" readonly></h5>
              <p><strong>ชื่อ:</strong> <input type="text" class="edit-input" name="firstname" value="<%= request.firstname %>" readonly></p>
              <p><strong>นามสกุล:</strong> <input type="text" class="edit-input" name="lastname" value="<%= request.lastname %>" readonly></p>
              <p><strong>เลขพนักงาน:</strong> <input type="text" class="edit-input" name="employeeid" value="<%= request.employeeid %>" readonly></p>
              <p><strong>Email:</strong> <input type="email" class="edit-input" name="email" value="<%= request.email %>" readonly></p>
              <p><strong>ตำแหน่งงาน:</strong> <input type="text" class="edit-input" name="position" value="<%= request.position %>" readonly></p>
              <p><strong>ฝ่าย:</strong> <input type="text" class="edit-input" name="department" value="<%= request.department %>" readonly></p>
              <p><strong>วันที่เริ่มงาน:</strong> <input type="date" class="edit-input" name="startdate" value="<%= request.startdate %>" readonly></p>
              <p><strong>วันลาคงเหลือ:</strong> <input type="number" class="edit-input" name="leavebalance" value="<%= request.leavebalance %>" readonly></p>
            </div>
            <div class="card-footer card-footer-custom text-center">
              <button class="btn btn-primary btn-sm edit-btn" onclick="editProfile(this)">แก้ไข</button>
              <button class="btn btn-success btn-sm save-btn d-none" onclick="saveProfile(this)">บันทึกการแก้ไข</button>
            </div>
          </div>
        <% }); %>
      </div>
    </div>
  </main>

  
  
    <script src="public/js/validat.js" type="text/javascript "></script>
    <script src="public/js/sweetalert2.all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"></script>

  
</body>
</html>
